{"version":3,"sources":["components/Loader/loader.gif","http/index.js","actions/actionCreators.js","actions/actionTypes.js","components/Loader/Loader.js","components/GalleryItem/GalleryItem.js","utils/index.js","components/Gallery/GalleryItemsList.js","components/GalleryAddForm/GalleryAddForm.js","components/Gallery/Gallery.js","App.js","serviceWorker.js","reducers/gallery.js","store/index.js","index.js"],"names":["module","exports","client","axios","create","baseURL","process","galleryItemsListFetchFailure","error","type","payload","galleryItemsListFetch","dispatch","getState","a","console","log","get","data","items","mediaDeleteRequest","item","Loader","src","loader","alt","GalleryItem","useSelector","store","gallery","remove","removeItem","loading","useDispatch","ext","useMemo","name","index","lastIndexOf","substring","toLowerCase","getExtension","handlerRemove","delete","mediaDelete","controls","onClick","GalleryItemsList","map","o","key","GalleryAddForm","state","edit","fileRef","useRef","onSubmit","evt","preventDefault","ref","onChange","Array","from","current","files","file","undefined","FormData","append","post","response","galleryUploadSuccesss","galleryUpload","value","accept","Gallery","list","useEffect","App","Boolean","window","location","hostname","match","initialListState","initialEditState","initialRemoveState","erorr","galleryReducer","combineReducers","action","reducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.143399fd.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,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\"","import axios from 'axios'\n\nconst client = axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n});\n\nexport default client\n\n\n","import client from '../http'\nimport { GALLERY_FETCH_REQUEST, GALLERY_FETCH_SUCCESS, GALLERY_FETCH_FAILURE, MEDIA_UPLOAD_REQUEST, MEDIA_UPLOAD_SUCCESS, MEDIA_UPLOAD_FAILURE, MEDIA_DELETE_REQUEST, MEDIA_DELETE_SUCCESS, MEDIA_DELETE_FAILURE } from './actionTypes'\n\n\nexport const galleryItemsListFetchRequest = ()=>{\n    return{\n        type: GALLERY_FETCH_REQUEST,\n        payload: {}\n    }\n}\nexport const galleryItemsListFetchSuccess = items =>{\n    return{\n        type: GALLERY_FETCH_SUCCESS,\n        payload: {items}\n    }\n}\nexport const galleryItemsListFetchFailure = error =>{\n    return{\n        type: GALLERY_FETCH_FAILURE,\n        payload: { error }\n    }\n}\n\nexport const galleryItemsListFetch =  () => async (dispatch, getState) =>{\n    console.log('getted!')\n    dispatch(galleryItemsListFetchRequest())\n    try{\n        const { data } = await client.get('/media')\n        dispatch(galleryItemsListFetchSuccess(data))\n    }catch(error){\n        dispatch(galleryItemsListFetchFailure(error))\n    }\n}\n\nexport const galleryUploadRequest = () =>{\n    return{\n        type: MEDIA_UPLOAD_REQUEST,\n        payload: {}\n    }\n}\nexport const galleryUploadSuccesss = item =>{\n    return{\n        type: MEDIA_UPLOAD_SUCCESS,\n        payload: { item }\n    }\n}\nexport const galleryUploadFailure = error =>{\n    return{\n        type: MEDIA_UPLOAD_FAILURE,\n        payload: { error }\n    }\n}\n\nexport const galleryUpload = file => async dispatch =>{\n    dispatch(galleryUploadRequest())\n    try {\n        const data = new FormData()\n        data.append('media', file, file.name);\n        const response = await client.post('/upload', data)\n        console.log(response)\n        dispatch(galleryUploadSuccesss())\n        dispatch(galleryItemsListFetch(data))\n    } catch (error) {\n        dispatch(galleryItemsListFetchFailure(error))\n    }\n}\n\n\n\nexport const mediaDeleteRequest = item =>{\n    return{\n        type: MEDIA_DELETE_REQUEST,\n        payload: {item}\n    }\n}\nexport const mediaDeleteSuccess = () =>{\n    return{\n        type: MEDIA_DELETE_SUCCESS,\n        payload: {}\n    }\n}\nexport const mediaDeleteFailure = error =>{\n    return{\n        type: MEDIA_DELETE_FAILURE,\n        payload: {error}\n    }\n}\n\nexport const mediaDelete = item => async dispatch => {\n    dispatch(mediaDeleteRequest(item))\n    try{\n        await client.delete(`/media/${item}`)\n        dispatch(mediaDeleteSuccess())\n        dispatch(galleryItemsListFetch())\n    }catch(error){\n        dispatch(mediaDeleteFailure(error))\n    }\n}\n\n","export const GALLERY_FETCH_REQUEST = 'GALLERY_FETCH_REQUEST'\nexport const GALLERY_FETCH_SUCCESS = 'GALLERY_FETCH_SUCCESS'\nexport const GALLERY_FETCH_FAILURE = 'GALLERY_FETCH_FAILURE'\n\nexport const MEDIA_UPLOAD_REQUEST = 'MEDIA_UPLOAD_REQUEST'\nexport const MEDIA_UPLOAD_SUCCESS = 'MEDIA_UPLOAD_SUCCESS'\nexport const MEDIA_UPLOAD_FAILURE = 'MEDIA_UPLOAD_FAILURE'\n\nexport const MEDIA_DELETE_REQUEST = 'MEDIA_DELETE_REQUEST'\nexport const MEDIA_DELETE_SUCCESS = 'MEDIA_DELETE_SUCCESS'\nexport const MEDIA_DELETE_FAILURE = 'MEDIA_DELETE_FAILURE'\n\n","import React from 'react'\nimport loader from './loader.gif'\n\nexport default function Loader() { \n    return (\n        <img src={loader} alt='loader'/>\n    )\n}\n","import React, {useMemo}from 'react'\nimport { getExtension } from \"../../utils\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { mediaDelete } from '../../actions/actionCreators';\nimport Loader from '../Loader/Loader';\n\n\n\nexport default function GalleryItem({item}) {\n    const {removeItem, loading, error} = useSelector(store => store.gallery.remove)\n    \n    const dispatch = useDispatch()\n    const ext = useMemo(() => getExtension(item), [item]);\n    const handlerRemove =()=>{\n       dispatch(mediaDelete(item))\n    }\n\n    const getFooter = () =>{\n        if(loading && removeItem === item){\n            return (\n                <div>\n                    Удаление\n                    <Loader/>\n                </div>\n            )\n        }\n        if(error){\n            return(\n                <div>Произошла ошибка при удалении записи</div>\n            )\n        }\n       return <button onClick={handlerRemove}>Удалить!</button>\n    }\n    return(\n        <div>\n            {ext === '.png' && <img  src={`${process.env.REACT_APP_MEDIA_URL}/${item}`} alt='IMG' />}\n            {ext === '.jpg' && <img  src={`${process.env.REACT_APP_MEDIA_URL}/${item}`} alt='IMG' />}\n            {ext === '.mp3' && <audio controls='enabled' src={`${process.env.REACT_APP_MEDIA_URL}/${item}`} />}\n            {ext === '.mp4' && <video controls='enabled' src={`${process.env.REACT_APP_MEDIA_URL}/${item}`} />}\n            {getFooter()}\n            {/* [a href={`${process.env.REACT_APP_MEDIA_URL}/${item}`} download]\n                <button>Скачать</button>\n            [/a] */}\n        </div>\n    )\n}\n","export function getExtension(name) {\n    const index =  name.lastIndexOf('.');\n    if (index === -1) {\n        return '';\n    }\n\n    return name.substring(index).toLowerCase();\n}","import React from 'react'\nimport Loader from '../Loader/Loader'\nimport GalleryItem from '../GalleryItem/GalleryItem'\n\n\nexport default function GalleryItemsList({ items, loading, error }) {\n\n    console.log(items, loading)\n\n    const getItems = () => {\n\n        if (error) {\n            return (\n                <p>Ошибка при загрузке галлерии</p>\n            )\n        }\n        return (<>\n            {loading && <div>\n                Загрузка записей\n                   <Loader />\n            </div>}\n            {items.map(o => <GalleryItem key={o} item={o} />)}\n        </>\n        )\n    }\n\n    return (\n        <div>\n            {getItems()}\n        </div>\n    )\n}\n","import React, { useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { galleryUpload } from '../../actions/actionCreators'\nimport Loader from '../Loader/Loader'\n\nexport default function GalleryAddForm() {\n    const { loading, error } = useSelector(state => state.gallery.edit)\n    const dispatch = useDispatch()\n    const fileRef = useRef(null)\n\n    const handleSubmit = evt => {\n        evt.preventDefault()\n    }\n\n    const handleFileChange = () => {\n        const [file] = Array.from(fileRef.current.files)\n        if (file === undefined) {\n            return\n        }\n        dispatch(galleryUpload(file))\n        fileRef.current.value = ''\n    }\n    const getFooter =()=>{\n        if(loading){\n            return <Loader />\n        }\n        if(error){\n            return <div>Произошла ошибка при добовлении записи</div>\n        }\n    }\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <input type=\"file\" ref={fileRef} onChange={handleFileChange} accept='image/*, video/*, audio/*' />\n            </form>\n            {getFooter()}\n        </>\n\n    )\n}\n","import React, { useEffect } from 'react'\nimport {useSelector, useDispatch} from 'react-redux'\nimport { galleryItemsListFetch } from '../../actions/actionCreators'\nimport GalleryItemsList from './GalleryItemsList'\nimport GalleryAddForm from '../GalleryAddForm/GalleryAddForm'\nexport default function Gallery() {\n    const state = useSelector(state => state.gallery.list)\n    const dispatch = useDispatch()\n    useEffect(()=>{\n        dispatch(galleryItemsListFetch())\n    },[dispatch])\n    return (\n        <>\n            <GalleryAddForm/>\n            <GalleryItemsList {...state}/>\n        </>\n    )\n}\n","import React from 'react';\nimport './App.css';\nimport Gallery from './components/Gallery/Gallery';\n\n\nfunction App() {\n  \n  return (\n    <div>\n      <Gallery/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {combineReducers} from 'redux'\nimport { GALLERY_FETCH_SUCCESS, GALLERY_FETCH_FAILURE, GALLERY_FETCH_REQUEST, MEDIA_UPLOAD_REQUEST, MEDIA_UPLOAD_SUCCESS, MEDIA_UPLOAD_FAILURE, MEDIA_DELETE_REQUEST, MEDIA_DELETE_FAILURE } from \"../actions/actionTypes\"\n\n\n\nconst initialListState = {\n    items: [],\n    loading: false,\n    error:null,\n}\n\nexport function galleryItemsListReducers(state = initialListState, action){\n    switch(action.type){\n        case GALLERY_FETCH_REQUEST:\n            return {...state, loading: true, error: null}\n        case GALLERY_FETCH_SUCCESS:\n            return {...state, items: action.payload.items, loading: false, error: null}\n        case GALLERY_FETCH_FAILURE: \n            return {...state, loading: false, error: action.payload.error}\n        default:\n            return state\n    }\n}\nconst initialEditState = {\n    item: null,\n    loading: false,\n    error: null,\n}\n\nexport function galleryItemEditReducer(state=initialEditState, action){\n    switch(action.type){\n        case MEDIA_UPLOAD_REQUEST:\n            return{...state, loading: true, error: null}\n        case MEDIA_UPLOAD_SUCCESS:\n            return{...state, loading:false, error: null}\n        case MEDIA_UPLOAD_FAILURE:\n            return{...state, loading:false, error: action.payload.error}\n        default:\n                return state\n    }\n    \n}\n\nconst initialRemoveState = {\n    removeItem: null,\n    loading: false,\n    erorr: null,\n}\n\nexport function galleryRemoveItemReducer(state=initialRemoveState, action){\n    switch(action.type){\n        case MEDIA_DELETE_REQUEST:\n            return {...state, removeItem: action.payload.item, loading: true, error: null}\n        case MEDIA_UPLOAD_SUCCESS:\n            return {...state, removeItem: null, loading: false, error: null}\n        case MEDIA_DELETE_FAILURE:\n            return {...state, loading: false, error: action.payload.error}\n        default:\n            return state\n    }\n}\n\nconst galleryReducer = combineReducers({\n    list: galleryItemsListReducers,\n    edit: galleryItemEditReducer,\n    remove: galleryRemoveItemReducer,\n})\nexport default galleryReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport galleryReducer from '../reducers/gallery'\nimport thunk from 'redux-thunk'\n\nconst reducer = combineReducers({\n    gallery: galleryReducer,\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    reducer,\n    composeEnhancers(applyMiddleware(thunk))\n)\nexport default store\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {Provider} from 'react-redux'\nimport store from './store' \n\n\nReactDOM.render( <Provider store={store}><App /></Provider>  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}