(this.webpackJsonpcls=this.webpackJsonpcls||[]).push([[0],{22:function(A,e){A.exports="data:image/gif;base64,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"},25:function(A,e,t){A.exports=t(56)},30:function(A,e,t){},31:function(A,e,t){},56:function(A,e,t){"use strict";t.r(e);var r=t(0),n=t.n(r),a=t(6),c=t.n(a),o=(t(30),t(31),t(2)),l=t(5),u=t.n(l),E=t(7),i=t(21),s=t.n(i).a.create({baseURL:"https://uploader-backend.herokuapp.com/api"}),m=function(A){return{type:"GALLERY_FETCH_FAILURE",payload:{error:A}}},C=function(){return function(){var A=Object(E.a)(u.a.mark((function A(e,t){var r,n;return u.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return console.log("getted!"),e({type:"GALLERY_FETCH_REQUEST",payload:{}}),A.prev=2,A.next=5,s.get("/media");case 5:r=A.sent,n=r.data,e({type:"GALLERY_FETCH_SUCCESS",payload:{items:n}}),A.next=13;break;case 10:A.prev=10,A.t0=A.catch(2),e(m(A.t0));case 13:case"end":return A.stop()}}),A,null,[[2,10]])})));return function(e,t){return A.apply(this,arguments)}}()},g=function(A){return{type:"MEDIA_DELETE_REQUEST",payload:{item:A}}},d=t(22),p=t.n(d);function Q(){return n.a.createElement("img",{src:p.a,alt:"loader"})}function B(A){var e=A.item,t=Object(o.c)((function(A){return A.gallery.remove})),a=t.removeItem,c=t.loading,l=t.error,i=Object(o.b)(),m=Object(r.useMemo)((function(){return function(A){var e=A.lastIndexOf(".");return-1===e?"":A.substring(e).toLowerCase()}(e)}),[e]),d=function(){i(function(A){return function(){var e=Object(E.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g(A)),e.prev=1,e.next=4,s.delete("/media/".concat(A));case 4:t({type:"MEDIA_DELETE_SUCCESS",payload:{}}),t(C()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"MEDIA_DELETE_FAILURE",payload:{error:e.t0}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(A){return e.apply(this,arguments)}}()}(e))};return n.a.createElement("div",null,".png"===m&&n.a.createElement("img",{src:"".concat("https://uploader-backend.herokuapp.com/static","/").concat(e),alt:"IMG"}),".jpg"===m&&n.a.createElement("img",{src:"".concat("https://uploader-backend.herokuapp.com/static","/").concat(e),alt:"IMG"}),".mp3"===m&&n.a.createElement("audio",{controls:"enabled",src:"".concat("https://uploader-backend.herokuapp.com/static","/").concat(e)}),".mp4"===m&&n.a.createElement("video",{controls:"enabled",src:"".concat("https://uploader-backend.herokuapp.com/static","/").concat(e)}),c&&a===e?n.a.createElement("div",null,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",n.a.createElement(Q,null)):l?n.a.createElement("div",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"):n.a.createElement("button",{onClick:d},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c!"))}function L(A){var e=A.items,t=A.loading,r=A.error;console.log(e,t);return n.a.createElement("div",null,r?n.a.createElement("p",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0433\u0430\u043b\u043b\u0435\u0440\u0438\u0438"):n.a.createElement(n.a.Fragment,null,t&&n.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439",n.a.createElement(Q,null)),e.map((function(A){return n.a.createElement(B,{key:A,item:A})}))))}var y=t(24);function M(){var A=Object(o.c)((function(A){return A.gallery.edit})),e=A.loading,t=A.error,a=Object(o.b)(),c=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:function(A){A.preventDefault()}},n.a.createElement("input",{type:"file",ref:c,onChange:function(){var A=Array.from(c.current.files),e=Object(y.a)(A,1)[0];void 0!==e&&(a(function(A){return function(){var e=Object(E.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"MEDIA_UPLOAD_REQUEST",payload:{}}),e.prev=1,(r=new FormData).append("media",A,A.name),e.next=6,s.post("/upload",r);case 6:n=e.sent,console.log(n),t({type:"MEDIA_UPLOAD_SUCCESS",payload:{item:void 0}}),t(C()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(m(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(A){return e.apply(this,arguments)}}()}(e)),c.current.value="")},accept:"image/*, video/*, audio/*"})),e?n.a.createElement(Q,null):t?n.a.createElement("div",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"):void 0)}function z(){var A=Object(o.c)((function(A){return A.gallery.list})),e=Object(o.b)();return Object(r.useEffect)((function(){e(C())}),[e]),n.a.createElement(n.a.Fragment,null,n.a.createElement(M,null),n.a.createElement(L,A))}var I=function(){return n.a.createElement("div",null,n.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=t(4),v=t(3),S={items:[],loading:!1,error:null};var f={item:null,loading:!1,error:null};var h={removeItem:null,loading:!1,erorr:null};var P=Object(w.c)({list:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GALLERY_FETCH_REQUEST":return Object(v.a)({},A,{loading:!0,error:null});case"GALLERY_FETCH_SUCCESS":return Object(v.a)({},A,{items:e.payload.items,loading:!1,error:null});case"GALLERY_FETCH_FAILURE":return Object(v.a)({},A,{loading:!1,error:e.payload.error});default:return A}},edit:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MEDIA_UPLOAD_REQUEST":return Object(v.a)({},A,{loading:!0,error:null});case"MEDIA_UPLOAD_SUCCESS":return Object(v.a)({},A,{loading:!1,error:null});case"MEDIA_UPLOAD_FAILURE":return Object(v.a)({},A,{loading:!1,error:e.payload.error});default:return A}},remove:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MEDIA_DELETE_REQUEST":return Object(v.a)({},A,{removeItem:e.payload.item,loading:!0,error:null});case"MEDIA_UPLOAD_SUCCESS":return Object(v.a)({},A,{removeItem:null,loading:!1,error:null});case"MEDIA_DELETE_FAILURE":return Object(v.a)({},A,{loading:!1,error:e.payload.error});default:return A}}}),b=t(23),O=Object(w.c)({gallery:P}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,F=Object(w.e)(O,R(Object(w.a)(b.a)));c.a.render(n.a.createElement(o.a,{store:F},n.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(A){A.unregister()})).catch((function(A){console.error(A.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.143399fd.chunk.js.map